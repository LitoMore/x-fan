{"version":3,"sources":["pages/assets/github.svg","utils/account.js","utils/fanfou.js","config/fanfou.config.js","rematch/user.js","rematch/home-timeline.js","rematch/settings.js","pages/login/index.js","pages/messages/index.js","pages/settings/index.js","app.js","service-worker.js","index.js"],"names":["module","exports","__webpack_require__","p","getAccounts","accounts","JSON","parse","localStorage","getItem","error","opt","consumerKey","consumerSecret","apiDomain","oauthDomain","hooks","baseString","baseStr","replace","xauth","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","username","password","x","token","oauthToken","oauthTokenSecret","o","profile","wrap","_context","prev","next","Fanfou","objectSpread","sent","get","abrupt","stop","this","_x","_x2","apply","arguments","initFanfou","length","_user$token","slicedToArray","getHomeTimeline","format","count","postStatus","ff","photo","upload","post","user","state","reducers","addAccount","auth","slice","filter","item","unique_id","unshift","setItem","stringify","logout","effects","login","_login","account","homeTimeline","loading","sending","typing","timeline","setLoading","setSending","setTimeline","appendStatus","status","concat","clearTimeline","fetch","_fetch","tl","latestTimeline","_latestTimeline$slice","_latestTimeline$slice2","_latestTimeline$slice3","lastStatusId","messages","latest","last","letterCount","time","_this","header","avatar","reverse","rawId","isOrigin","rawid","forEach","push","id","type","is_self","profile_image_origin_large","name","image","originurl","text","plain_text","parseInt","setTimeout","_post","_callee2","_context2","_x3","localSettings","settings","nightMode","updateSettings","setNightMode","activated","switchNightMode","FanfouLogin","props","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","_this$state","$f7","dialog","alert","$f7router","navigate","clearPreviousHistory","_this2","react_default","createElement","framework7_react_esm","noToolbar","noNavbar","noSwipeback","loginScreen","form","placeholder","onInput","e","setState","target","value","onClick","React","Component","connect","_state$user$accounts$","current","dispatch","FanfouMessages","sendMessage","params","result","messagebar","getValue","file","document","getElementById","clear","t0","photos","timer","setInterval","self","$f7ready","messagebarComponent","f7Messagebar","messagesComponent","f7Messages","clearInterval","message","index","previousMessage","isTitle","nextMessage","_this3","_this$props","messageStyle","window","innerWidth","maxWidth","accept","style","display","onChange","fileDOM","files","reader","FileReader","addEventListener","url","readAsDataURL","ref","el","photoBrowser","theme","navbar","toolbar","onPhotoBrowserClose","attachmentsVisible","Boolean","sheetVisible","iconIos","iconMd","slot","click","onAttachmentDelete","scrollMessagesOnEdge","map","key","first","isFirstMessage","isLastMessage","tail","isTailMessage","onClickBubble","open","defaultProps","FanfouSettings","main","backLink","title","checked","onToggleChange","color","back","force","removeItem","textAlign","external","href","alt","src","githubBadge","f7Params","routes","path","component","Messages","Login","navigator","platform","FanfouApp","themeDark","isLocalhost","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","F7","use","F7React","store","init","models","ReactDOM","render","es","app","URL","process","origin","response","headers","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.4fda75d2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/github.5a5753ed.svg\";","export const getAccounts = () => {\n\tlet accounts = [];\n\ttry {\n\t\taccounts = JSON.parse(localStorage.getItem('accounts'));\n\t} catch (error) {}\n\treturn accounts;\n};\n\nexport const addAccount = account => {\n\tconst accounts = getAccounts();\n\tconst found = accounts.find(item => {\n\t\treturn item.token.oauthToken === account.token.oauthToken && item.token.oauthTokenSecret === account.token.oauthTokenSecret;\n\t});\n\tif (found) {\n\t\treturn;\n\t}\n\taccounts.push(account);\n\tlocalStorage.setItem('accounts', JSON.stringify(accounts));\n};\n","import Fanfou from 'fanfou-sdk-browser';\nimport {consumerKey, consumerSecret} from '../config/fanfou.config';\nimport {getAccounts} from './account';\n\nconst apiDomain = 'cors.fanfou.com';\nconst oauthDomain = 'cors.fanfou.com';\nconst hooks = {\n\tbaseString: baseStr => {\n\t\treturn baseStr\n\t\t\t.replace('%2F%2Fcors.fanfou.com%2Foauth', 'http%3A%2F%2Ffanfou.com%2Foauth')\n\t\t\t.replace('%2F%2Fcors.fanfou.com', 'http%3A%2F%2Fapi.fanfou.com');\n\t}\n};\nconst opt = {consumerKey, consumerSecret, apiDomain, oauthDomain, hooks};\n\nexport const xauth = async (username, password) => {\n\tconst x = new Fanfou({\n\t\t...opt,\n\t\tusername,\n\t\tpassword\n\t});\n\tconst token = await x.xauth();\n\tconst {oauthToken, oauthTokenSecret} = token;\n\tif (oauthToken && oauthTokenSecret) {\n\t\tconst o = new Fanfou({\n\t\t\t...opt,\n\t\t\toauthToken,\n\t\t\toauthTokenSecret\n\t\t});\n\t\tconst profile = await o.get('/account/verify_credentials', {});\n\t\treturn {token, profile};\n\t}\n\treturn null;\n};\n\nconst initFanfou = () => {\n\tconst accounts = getAccounts();\n\tif (accounts.length === 0) {\n\t\treturn;\n\t}\n\tconst [user] = accounts;\n\tconst {oauthToken, oauthTokenSecret} = user.token;\n\tconst ff = new Fanfou({\n\t\t...opt,\n\t\toauthToken,\n\t\toauthTokenSecret\n\t});\n\treturn ff;\n};\n\nexport const getHomeTimeline = opt => {\n\tconst ff = initFanfou();\n\treturn ff.get('/statuses/home_timeline', {...opt, format: 'html', count: 30});\n};\n\nexport const postStatus = opt => {\n\tconst ff = initFanfou();\n\tif (opt.photo) {\n\t\treturn ff.upload('/photos/upload', {...opt});\n\t}\n\treturn ff.post('/statuses/update', {...opt});\n};\n","export const consumerKey = 'a59ed1e1d9c84ece4d90a6bef1ef30b2';\nexport const consumerSecret = 'aba384864b00fe9f3ed8ece4d21556cd';\n","import {xauth} from '../utils/fanfou';\n\n// Read accounts from localStorage\nlet accounts = [];\ntry {\n\taccounts = JSON.parse(localStorage.getItem('accounts')) || [];\n} catch (error) {}\n\nexport const user = {\n\tstate: {accounts},\n\treducers: {\n\t\taddAccount(state, auth) {\n\t\t\tlet accounts = state.accounts.slice();\n\t\t\taccounts = accounts.filter(item => {\n\t\t\t\treturn item.profile.unique_id !== auth.profile.unique_id;\n\t\t\t});\n\t\t\taccounts.unshift(auth);\n\t\t\tlocalStorage.setItem('accounts', JSON.stringify(accounts));\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\taccounts\n\t\t\t};\n\t\t},\n\t\tlogout() {\n\t\t\treturn {\n\t\t\t\taccounts: []\n\t\t\t};\n\t\t}\n\t},\n\teffects: {\n\t\tasync login(account) {\n\t\t\tconst {username, password} = account;\n\t\t\tconst auth = await xauth(username, password);\n\t\t\tif (auth) {\n\t\t\t\tthis.addAccount(auth);\n\t\t\t}\n\t\t\treturn auth;\n\t\t}\n\t}\n};\n","import {getHomeTimeline, postStatus} from '../utils/fanfou';\n\n// Home Timeline\nexport const homeTimeline = {\n\tstate: {\n\t\tloading: null,\n\t\tsending: null,\n\t\ttyping: false,\n\t\ttimeline: []\n\t},\n\treducers: {\n\t\tsetLoading(state, loading) {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading\n\t\t\t};\n\t\t},\n\t\tsetSending(state, sending) {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsending\n\t\t\t};\n\t\t},\n\t\tsetTimeline(state, timeline) {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttimeline\n\t\t\t};\n\t\t},\n\t\tappendStatus(state, status) {\n\t\t\tconst timeline = state.timeline.concat(status);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttimeline\n\t\t\t};\n\t\t},\n\t\tclearTimeline() {\n\t\t\treturn {\n\t\t\t\tloading: null,\n\t\t\t\tsending: null,\n\t\t\t\ttyping: false,\n\t\t\t\ttimeline: []\n\t\t\t};\n\t\t}\n\t},\n\teffects: {\n\t\tasync fetch(opt, state) {\n\t\t\tconst {timeline: tl} = state.homeTimeline;\n\t\t\tif (tl.length === 0) {\n\t\t\t\tthis.setLoading({\n\t\t\t\t\theader: 'Loading',\n\t\t\t\t\tavatar: '/x-fan.png'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Fetch the latest timeline state\n\t\t\tlet timeline = await getHomeTimeline(opt);\n\t\t\tconst {timeline: latestTimeline} = state.homeTimeline;\n\t\t\tconst [{rawId: lastStatusId} = {rawId: 0}] = latestTimeline.slice().reverse();\n\t\t\ttimeline = timeline.filter(status => status.isOrigin() && status.rawid > lastStatusId);\n\t\t\tlet messages = latestTimeline.slice();\n\n\t\t\ttimeline\n\t\t\t\t.reverse()\n\t\t\t\t.forEach(status => {\n\t\t\t\t\tif (status.photo) {\n\t\t\t\t\t\tmessages.push({\n\t\t\t\t\t\t\tid: status.id + '-photo',\n\t\t\t\t\t\t\trawId: status.rawid,\n\t\t\t\t\t\t\ttype: status.is_self ? 'sent' : 'received',\n\t\t\t\t\t\t\tavatar: status.user.profile_image_origin_large,\n\t\t\t\t\t\t\tname: status.user.name,\n\t\t\t\t\t\t\timage: status.photo.originurl\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (status.text !== '' && status.text !== '上传了新照片') {\n\t\t\t\t\t\tmessages.push({\n\t\t\t\t\t\t\tid: status.id,\n\t\t\t\t\t\t\trawId: status.rawid,\n\t\t\t\t\t\t\tname: status.user.name,\n\t\t\t\t\t\t\ttype: status.is_self ? 'sent' : 'received',\n\t\t\t\t\t\t\ttext: status.plain_text,\n\t\t\t\t\t\t\tavatar: status.user.profile_image_origin_large\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t// Only display 200 statuses\n\t\t\tmessages = messages.slice(-200);\n\n\t\t\tif (tl.length === 0) {\n\t\t\t\tthis.setLoading(null);\n\t\t\t\tthis.setTimeline(messages);\n\t\t\t} else {\n\t\t\t\tconst latest = messages[messages.length - 1].rawId;\n\t\t\t\tconst last = tl[tl.length - 1].rawId;\n\t\t\t\tif (latest > last) {\n\t\t\t\t\tconst letterCount = messages[messages.length - 1].text.length;\n\t\t\t\t\tconst time = 1000 + parseInt((letterCount + 1) / 140 * 4000, 10);\n\t\t\t\t\tthis.setLoading({\n\t\t\t\t\t\theader: messages[messages.length - 1].name,\n\t\t\t\t\t\tavatar: messages[messages.length - 1].avatar\n\t\t\t\t\t});\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.setLoading(null);\n\t\t\t\t\t\tthis.setTimeline(messages);\n\t\t\t\t\t}, time);\n\t\t\t\t} else {\n\t\t\t\t\treturn messages;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn messages;\n\t\t},\n\t\tasync post(opt) {\n\t\t\tthis.setSending(opt);\n\t\t\tconst status = await postStatus({...opt});\n\t\t\tif (status.error) {\n\t\t\t\tthis.setSending(null);\n\t\t\t\treturn status;\n\t\t\t}\n\t\t\tconst messages = [];\n\t\t\tif (status.photo) {\n\t\t\t\tmessages.push({\n\t\t\t\t\tid: status.id + '-photo',\n\t\t\t\t\trawId: status.rawid,\n\t\t\t\t\ttype: status.is_self ? 'sent' : 'received',\n\t\t\t\t\tavatar: status.user.profile_image_origin_large,\n\t\t\t\t\tname: status.user.name,\n\t\t\t\t\timage: status.photo.originurl\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (status.text !== '' && status.text !== '上传了新照片') {\n\t\t\t\tmessages.push({\n\t\t\t\t\tid: status.id,\n\t\t\t\t\trawId: status.rawid,\n\t\t\t\t\tname: status.user.name,\n\t\t\t\t\ttype: status.is_self ? 'sent' : 'received',\n\t\t\t\t\ttext: status.plain_text,\n\t\t\t\t\tavatar: status.user.profile_image_origin_large\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.setSending(null);\n\t\t\tthis.appendStatus(messages);\n\t\t\treturn messages;\n\t\t}\n\t}\n};\n","const defaultSettings = {\n\tnightMode: false\n};\n\n// Get settings from localStorage\nlet localSettings = {};\ntry {\n\tlocalSettings = JSON.parse(localStorage.getItem('settings') || {});\n} catch (error) {}\n\nexport const settings = {\n\tstate: {\n\t\t...defaultSettings,\n\t\t...localSettings\n\t},\n\treducers: {\n\t\tupdateSettings(state) {\n\t\t\tlocalStorage.setItem('settings', JSON.stringify(state));\n\t\t\treturn state;\n\t\t},\n\t\tsetNightMode(state, activated) {\n\t\t\tconst settings = {...state, nightMode: activated};\n\t\t\treturn settings;\n\t\t}\n\t},\n\teffects: {\n\t\tswitchNightMode(activated) {\n\t\t\tthis.setNightMode(activated);\n\t\t\tthis.updateSettings();\n\t\t\treturn activated;\n\t\t}\n\t}\n};\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {Page, LoginScreenTitle, List, ListItem, Label, Input, ListButton, BlockFooter} from 'framework7-react';\n\nclass FanfouLogin extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tusername: '',\n\t\t\tpassword: ''\n\t\t};\n\t}\n\n\tlogin = async () => {\n\t\tconst {username, password} = this.state;\n\t\tconst {login} = this.props;\n\t\tconst auth = await login({username, password});\n\t\tif (auth === null) {\n\t\t\tthis.$f7.dialog.alert('Username and password do not match', 'X-FAN');\n\t\t} else {\n\t\t\tthis.$f7router.navigate('/messages/', {\n\t\t\t\tclearPreviousHistory: true\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Page noToolbar noNavbar noSwipeback loginScreen>\n\t\t\t\t<LoginScreenTitle>X-FAN</LoginScreenTitle>\n\t\t\t\t<List form>\n\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t<Label>Username</Label>\n\t\t\t\t\t\t<Input type=\"text\" placeholder=\"Your username\" onInput={e => {\n\t\t\t\t\t\t\tthis.setState({username: e.target.value});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ListItem>\n\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t<Label>Password</Label>\n\t\t\t\t\t\t<Input type=\"password\" placeholder=\"Your password\" onInput={e => {\n\t\t\t\t\t\t\tthis.setState({password: e.target.value});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ListItem>\n\t\t\t\t</List>\n\t\t\t\t<List>\n\t\t\t\t\t<ListButton onClick={this.login}>Sign In</ListButton>\n\t\t\t\t\t{/* eslint-disable-next-line */}\n\t\t\t\t\t<BlockFooter>Code with ❤️️ by LitoMore</BlockFooter>\n\t\t\t\t</List>\n\t\t\t</Page>\n\t\t);\n\t}\n}\n\nconst mapState = state => {\n\tconst [current = {}] = state.user.accounts;\n\treturn {\n\t\tcurrent\n\t};\n};\n\nconst mapDispatch = dispatch => {\n\treturn {\n\t\tlogin: account => dispatch.user.login(account)\n\t};\n};\n\nexport default connect(mapState, mapDispatch)(FanfouLogin);\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {Page, Messages, Message, Messagebar, Link, MessagebarAttachments, MessagebarAttachment, PhotoBrowser} from 'framework7-react';\n\nclass FanfouMessages extends React.Component {\n\tstatic propTypes = {\n\t\tloading: PropTypes.object,\n\t\tsending: PropTypes.object,\n\t\tsettings: PropTypes.object,\n\t\tmessages: PropTypes.array,\n\t\tfetch: PropTypes.func,\n\t\tpost: PropTypes.func\n\t}\n\n\tstatic defaultProps = {\n\t\tloading: null,\n\t\tsending: null,\n\t\tsettings: {},\n\t\tmessages: [],\n\t\tfetch: () => {},\n\t\tpost: () => {}\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tphoto: null,\n\t\t\tphotos: []\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.fetch();\n\t\tthis.timer = setInterval(() => {\n\t\t\tthis.props.fetch();\n\t\t}, 10000);\n\t\tconst self = this;\n\t\tself.$f7ready(() => {\n\t\t\tself.messagebar = self.messagebarComponent.f7Messagebar;\n\t\t\tself.messages = self.messagesComponent.f7Messages;\n\t\t});\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.timer);\n\t}\n\n\tisFirstMessage(message, index) {\n\t\tconst self = this;\n\t\tconst previousMessage = self.props.messages[index - 1];\n\t\tif (message.isTitle) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!previousMessage || previousMessage.type !== message.type || previousMessage.name !== message.name) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tisLastMessage(message, index) {\n\t\tconst self = this;\n\t\tconst nextMessage = self.props.messages[index + 1];\n\t\tif (message.isTitle) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!nextMessage || nextMessage.type !== message.type || nextMessage.name !== message.name) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tisTailMessage(message, index) {\n\t\tconst self = this;\n\t\tconst nextMessage = self.props.messages[index + 1];\n\t\tif (message.isTitle) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!nextMessage || nextMessage.type !== message.type || nextMessage.name !== message.name) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tsendMessage = async () => {\n\t\tconst {photo} = this.state;\n\t\tconst status = this.messagebar.getValue();\n\t\tconst params = {status};\n\t\tif (photo) {\n\t\t\tparams.photo = photo.file;\n\t\t}\n\t\ttry {\n\t\t\tconst result = await this.props.post(params);\n\t\t\tif (result.error) {\n\t\t\t\tthis.$f7.dialog.alert(result.error, 'Error');\n\t\t\t} else {\n\t\t\t\tconst fileDOM = document.getElementById('file');\n\t\t\t\tfileDOM.value = '';\n\t\t\t\tthis.messagebar.clear();\n\t\t\t\tthis.setState({photo: null});\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tif (photo) {\n\t\t\t\tthis.$f7.dialog.alert('图片文件过大');\n\t\t\t} else {\n\t\t\t\tthis.$f7.dialog.alert('发送失败');\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {loading, sending, messages} = this.props;\n\t\tconst {photo, photos} = this.state;\n\t\tconst messageStyle = window.innerWidth > 400 ? {\n\t\t\tmaxWidth: 300\n\t\t} : null;\n\n\t\treturn (\n\t\t\t<Page name=\"messages\">\n\t\t\t\t<input\n\t\t\t\t\tid=\"file\"\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\taccept=\"image/gif, image/jpeg, image/png, image/jpg\"\n\t\t\t\t\tstyle={{display: 'none'}}\n\t\t\t\t\tonChange={() => {\n\t\t\t\t\t\tconst fileDOM = document.getElementById('file');\n\t\t\t\t\t\tconst [file] = fileDOM.files;\n\t\t\t\t\t\tif (file) {\n\t\t\t\t\t\t\tconst reader = new FileReader();\n\t\t\t\t\t\t\treader.addEventListener('load', e => {\n\t\t\t\t\t\t\t\tconst {result: url} = e.target;\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tphoto: {file, url}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treader.readAsDataURL(file);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/>\n\n\t\t\t\t{photos.length > 0 ? (\n\t\t\t\t\t<PhotoBrowser\n\t\t\t\t\t\tref={el => {\n\t\t\t\t\t\t\tthis.photoBrowser = el;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttheme={this.props.settings.nightMode ? 'dark' : 'light'}\n\t\t\t\t\t\tnavbar={false}\n\t\t\t\t\t\ttoolbar={false}\n\t\t\t\t\t\tphotos={photos}\n\t\t\t\t\t\tonPhotoBrowserClose={() => {\n\t\t\t\t\t\t\tthis.setState({photos: []});\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\n\t\t\t\t<Messagebar\n\t\t\t\t\tref={el => {\n\t\t\t\t\t\tthis.messagebarComponent = el;\n\t\t\t\t\t}}\n\t\t\t\t\tattachmentsVisible={Boolean(photo)}\n\t\t\t\t\tplaceholder={this.placeholder}\n\t\t\t\t\tsheetVisible={this.state.sheetVisible}\n\t\t\t\t>\n\t\t\t\t\t<Link\n\t\t\t\t\t\ticonIos=\"f7:camera_fill\"\n\t\t\t\t\t\ticonMd=\"material:camera_alt\"\n\t\t\t\t\t\tslot=\"inner-start\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tif (sending) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst fileDOM = document.getElementById('file');\n\t\t\t\t\t\t\tfileDOM.click();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Link\n\t\t\t\t\t\ticonIos=\"f7:more_round_fill\"\n\t\t\t\t\t\ticonMd=\"material:more_vert\"\n\t\t\t\t\t\tslot=\"inner-start\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tif (sending) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.$f7router.navigate('/settings/');\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Link\n\t\t\t\t\t\ticonIos=\"f7:arrow_up_fill\"\n\t\t\t\t\t\ticonMd=\"material:send\"\n\t\t\t\t\t\tslot=\"inner-end\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tif (sending) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.sendMessage();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<MessagebarAttachments>\n\t\t\t\t\t\t{photo ? (\n\t\t\t\t\t\t\t<MessagebarAttachment\n\t\t\t\t\t\t\t\timage={photo.url}\n\t\t\t\t\t\t\t\tonAttachmentDelete={() => {\n\t\t\t\t\t\t\t\t\tconst fileDOM = document.getElementById('file');\n\t\t\t\t\t\t\t\t\tfileDOM.value = '';\n\t\t\t\t\t\t\t\t\tthis.setState({photo: null});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</MessagebarAttachments>\n\t\t\t\t</Messagebar>\n\n\t\t\t\t<Messages\n\t\t\t\t\tref={el => {\n\t\t\t\t\t\tthis.messagesComponent = el;\n\t\t\t\t\t}}\n\t\t\t\t\tscrollMessagesOnEdge\n\t\t\t\t>\n\t\t\t\t\t{messages.map((message, index) => (\n\t\t\t\t\t\t<Message\n\t\t\t\t\t\t\tkey={message.id}\n\t\t\t\t\t\t\ttype={message.type}\n\t\t\t\t\t\t\tstyle={message.image ? messageStyle : null}\n\t\t\t\t\t\t\timage={message.image}\n\t\t\t\t\t\t\tname={message.name}\n\t\t\t\t\t\t\tavatar={message.avatar}\n\t\t\t\t\t\t\tfirst={this.isFirstMessage(message, index)}\n\t\t\t\t\t\t\tlast={this.isLastMessage(message, index)}\n\t\t\t\t\t\t\ttail={this.isTailMessage(message, index)}\n\t\t\t\t\t\t\tonClickBubble={() => {\n\t\t\t\t\t\t\t\tif (message.image) {\n\t\t\t\t\t\t\t\t\tthis.setState({photos: [message.image]}, () => {\n\t\t\t\t\t\t\t\t\t\tthis.photoBrowser.open();\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{message.text && (\n\t\t\t\t\t\t\t\t<span slot=\"text\">{message.text}</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Message>\n\t\t\t\t\t))}\n\t\t\t\t\t{loading && (\n\t\t\t\t\t\t<Message\n\t\t\t\t\t\t\ttyping\n\t\t\t\t\t\t\tfirst\n\t\t\t\t\t\t\tlast\n\t\t\t\t\t\t\ttail\n\t\t\t\t\t\t\ttype=\"received\"\n\t\t\t\t\t\t\theader={loading.header}\n\t\t\t\t\t\t\tavatar={loading.avatar}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</Messages>\n\t\t\t</Page>\n\t\t);\n\t}\n}\n\nconst mapState = state => {\n\treturn {\n\t\tsending: state.homeTimeline.sending,\n\t\tloading: state.homeTimeline.loading,\n\t\tmessages: state.homeTimeline.timeline,\n\t\tsettings: state.settings\n\t};\n};\n\nconst mapDispatch = dispatch => {\n\treturn {\n\t\tfetch: opt => dispatch.homeTimeline.fetch(opt),\n\t\tpost: opt => dispatch.homeTimeline.post(opt)\n\t};\n};\n\nexport default connect(mapState, mapDispatch)(FanfouMessages);\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {PropTypes} from 'prop-types';\nimport {Page, BlockTitle, List, ListButton, Navbar, NavLeft, NavTitle, Block, Link, ListItem, Toggle} from 'framework7-react';\nimport githubBadge from '../assets/github.svg';\n\nclass FanfouSettings extends React.Component {\n\tstatic propTypes = {\n\t\tlogout: PropTypes.func,\n\t\tclearTimeline: PropTypes.func,\n\t\tswitchNightMode: PropTypes.func,\n\t\tsettings: PropTypes.object\n\t}\n\n\tstatic defaultProps = {\n\t\tlogout: () => {},\n\t\tclearTimeline: () => {},\n\t\tswitchNightMode: () => {},\n\t\tsettings: {}\n\t}\n\n\trender() {\n\t\tconst {settings} = this.props;\n\n\t\treturn (\n\t\t\t<Page main>\n\t\t\t\t<Navbar>\n\t\t\t\t\t<NavLeft backLink=\"back\"/>\n\t\t\t\t\t<NavTitle>Settings</NavTitle>\n\t\t\t\t</Navbar>\n\n\t\t\t\t<BlockTitle>DISPLAY</BlockTitle>\n\t\t\t\t<List>\n\t\t\t\t\t<ListItem title=\"Night mode\">\n\t\t\t\t\t\t<Toggle\n\t\t\t\t\t\t\tslot=\"after\"\n\t\t\t\t\t\t\tchecked={settings.nightMode}\n\t\t\t\t\t\t\tonToggleChange={activated => {\n\t\t\t\t\t\t\t\tthis.props.switchNightMode(activated);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ListItem>\n\t\t\t\t</List>\n\n\t\t\t\t<BlockTitle>ACCOUNT</BlockTitle>\n\t\t\t\t<List>\n\t\t\t\t\t<ListButton\n\t\t\t\t\t\ttitle=\"Logout\"\n\t\t\t\t\t\tcolor=\"red\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.$f7router.back('/login/', {\n\t\t\t\t\t\t\t\tforce: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tlocalStorage.removeItem('accounts');\n\t\t\t\t\t\t\tthis.props.logout();\n\t\t\t\t\t\t\tthis.props.clearTimeline();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</List>\n\t\t\t\t<Block style={{textAlign: 'center'}}>\n\t\t\t\t\t<Link external href=\"https://github.com/LitoMore/x-fan\" target=\"_blank\">\n\t\t\t\t\t\t<img alt=\"github-badge\" src={githubBadge}/>\n\t\t\t\t\t</Link>\n\t\t\t\t</Block>\n\t\t\t</Page>\n\t\t);\n\t}\n}\n\nconst mapState = state => {\n\treturn {\n\t\tsettings: state.settings\n\t};\n};\n\nconst mapDispatch = dispatch => {\n\treturn {\n\t\tlogout: () => dispatch.user.logout(),\n\t\tclearTimeline: () => dispatch.homeTimeline.clearTimeline(),\n\t\tswitchNightMode: activated => dispatch.settings.switchNightMode(activated)\n\t};\n};\n\nexport default connect(mapState, mapDispatch)(FanfouSettings);\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {App, View} from 'framework7-react';\nimport Login from './pages/login';\nimport Messages from './pages/messages';\nimport Settings from './pages/settings';\n\nconst f7Params = {\n\tname: 'Fanfou',\n\tid: 'com.litomore.xfanfou',\n\troutes: [\n\t\t{\n\t\t\tname: 'messages',\n\t\t\tpath: '/messages/',\n\t\t\tcomponent: Messages\n\t\t}, {\n\t\t\tname: 'login',\n\t\t\tpath: '/login/',\n\t\t\tcomponent: Login\n\t\t}, {\n\t\t\tname: 'settings',\n\t\t\tpath: '/settings/',\n\t\t\tcomponent: Settings\n\t\t}\n\t],\n\ttheme: window.navigator.platform === 'MacIntel' ? 'ios' : 'auto'\n};\n\nclass FanfouApp extends React.Component {\n\tstatic propTypes = {\n\t\tcurrent: PropTypes.object,\n\t\tsettings: PropTypes.object\n\t}\n\n\tstatic defaultProps = {\n\t\tcurrent: null,\n\t\tsettings: {}\n\t}\n\n\trender() {\n\t\tconst {current, settings} = this.props;\n\n\t\treturn (\n\t\t\t<App params={f7Params} themeDark={settings.nightMode}>\n\t\t\t\t<View main url={current ? '/messages/' : '/login/'}/>\n\t\t\t</App>\n\t\t);\n\t}\n}\n\nconst mapState = state => {\n\tconst [current] = state.user.accounts;\n\treturn {\n\t\tcurrent,\n\t\tsettings: state.settings\n\t};\n};\n\nexport default connect(mapState)(FanfouApp);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n// [::1] is the IPv6 localhost address.\nwindow.location.hostname === '[::1]' ||\n// 127.0.0.1/8 is considered localhost for IPv4.\nwindow.location.hostname.match(\n\t/^127(?:\\.(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)){3}$/\n)\n);\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\nresponse.headers.get('content-type').indexOf('javascript') === -1\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t);\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {init} from '@rematch/core';\nimport {Provider} from 'react-redux';\nimport F7 from 'framework7/framework7.esm.bundle';\nimport F7React from 'framework7-react';\nimport * as models from './rematch';\nimport App from './app';\nimport * as serviceWorker from './service-worker';\nimport 'framework7/css/framework7.min.css';\nimport 'framework7-icons/css/framework7-icons.css';\nimport 'material-design-icons-iconfont/dist/material-design-icons.css';\nimport './index.css';\n\n// Framework7 initialize\nF7.use(F7React);\n\n// Generate Redux store\nconst store = init({\n\tmodels\n});\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App/>\n\t</Provider>,\n\tdocument.getElementById('app')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}